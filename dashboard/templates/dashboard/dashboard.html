{% extends 'dashboard/base.html' %} {% block content %}

<div class="container my-3">
	<!-- Top Logo -->
	<div class="text-left mb-2">
		<img src="/static/logo.png" alt="Logo" style="height: 100px" />
	</div>

	<!-- Profile Section -->
	<div class="text-center">
		<img
			src="/static/profile_placeholder.png"
			class="rounded-circle"
			alt="Profile Picture"
			style="
				width: 80px;
				height: 80px;
				object-fit: cover;
				border: 2px solid #007bff;
			" />
		<h5 class="mt-2">Welcome! {{ user.username|default:'Guest' }}</h5>
	</div>

	<!-- Current Month Marked -->
	<div class="bg-primary text-white text-center py-1 mt-3 rounded">
		Current month marked
	</div>

	<!-- Stats Cards -->
	<div class="row text-center mt-2 align-items-stretch">
		<div class="col-4 d-flex mb-3">
			<div class="card shadow-sm w-100">
				<div class="card-body d-flex flex-column justify-content-center">
					<i class="bi bi-bar-chart" style="font-size: 1.5rem"></i>
					<h6 class="mt-1">Projects</h6>
					<p class="mb-0">{{ total_projects }}</p>
				</div>
			</div>
		</div>

		<div class="col-4 d-flex mb-3">
			<div class="card shadow-sm w-100">
				<div class="card-body d-flex flex-column justify-content-center">
					<i class="bi bi-calendar" style="font-size: 1.5rem"></i>
					<h6 class="mt-1">Days</h6>
					<p class="mb-0">{{ total_days|floatformat:0 }}</p>
				</div>
			</div>
		</div>

		<div class="col-4 d-flex mb-3">
			<div class="card shadow-sm w-100">
				<div class="card-body d-flex flex-column justify-content-center">
					<i class="bi bi-clock" style="font-size: 1.5rem"></i>
					<h6 class="mt-1">Duration</h6>
					<p class="mb-0">{{ duration_hours }}h {{ duration_minutes }}m</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Bottom Navigation Bar -->
	<div class="bg-light border-top mt-3 py-2 d-flex justify-content-around">
		<a
			href="{% url 'project_list' %}"
			class="text-center text-decoration-none text-dark">
			<i class="bi bi-list" style="font-size: 1.5rem"></i><br />List
		</a>
		<a
			href="{% url 'project_create' %}"
			class="text-center text-decoration-none text-dark">
			<i class="bi bi-plus-circle" style="font-size: 1.5rem"></i><br />New
		</a>
		<a
			href=""
			onclick="location.reload()"
			class="text-center text-decoration-none text-dark">
			<i class="bi bi-arrow-clockwise" style="font-size: 1.5rem"></i
			><br />Refresh
		</a>
	</div>
	<br>
	<!-- Recent Projects Section -->
	<h4>Recent Projects</h4>
	<div class="table-responsive">
		<table class="table table-bordered table-hover align-middle">
			<thead class="table-light">
				<tr>
					<th>Project</th>
				</tr>
			</thead>
			<tbody>
				{% if recent_projects %}
				{% for project in recent_projects %}
				<tr>
					<td>{{ project }}</td> <!-- Or use project.project_name if needed -->
				</tr>
				{% endfor %}
				{% else %}
				<tr>
					<td colspan="1" class="text-muted">No recent projects found.</td>
				</tr>
				{% endif %}
			</tbody>
		</table>
	</div>


</div>

{% endblock %}
