{% extends 'dashboard/base.html' %}

{% block content %}

<div class="container my-3">

    <!-- Top Logo -->
    <div class="text-left mb-2">
        <img src="/static/logo.png" alt="Logo" style="height: 100px;">
    </div>

    <!-- Profile Section -->
    <div class="text-center">
        <img src="/static/profile_placeholder.png" class="rounded-circle" alt="Profile Picture"
            style="width: 80px; height: 80px; object-fit: cover; border: 2px solid #007bff;">
        <h5 class="mt-2">Welcome! {{ user.username|default:'Guest' }}</h5>
    </div>

    <!-- Current Month Marked -->
    <div class="bg-primary text-white text-center py-1 mt-3 rounded">Current month marked</div>

    <!-- Stats Cards -->
    <div class="row text-center mt-2">
        <div class="col-4">
            <div class="card shadow-sm">
                <div class="card-body p-2">
                    <i class="bi bi-bar-chart" style="font-size: 1.5rem;"></i>
                    <h6 class="mt-1">Projects</h6>
                    <p class="mb-0">{{ total_projects }}</p>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card shadow-sm">
                <div class="card-body p-2">
                    <i class="bi bi-calendar" style="font-size: 1.5rem;"></i>
                    <h6 class="mt-1">Days</h6>
                    <p class="mb-0">{{ total_days|floatformat:0 }}</p>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card shadow-sm">
                <div class="card-body p-2">
                    <i class="bi bi-clock" style="font-size: 1.5rem;"></i>
                    <h6 class="mt-1">Duration</h6>
                    <p class="mb-0">{{ total_days|floatformat:0 }} h 0 m</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation Bar -->
    <div class="bg-light border-top mt-3 py-2 d-flex justify-content-around">
        <a href="{% url 'project_list' %}" class="text-center text-decoration-none text-dark">
            <i class="bi bi-list" style="font-size: 1.5rem;"></i><br>List
        </a>
        <a href="{% url 'project_create' %}" class="text-center text-decoration-none text-dark">
            <i class="bi bi-plus-circle" style="font-size: 1.5rem;"></i><br>New
        </a>
        <a href="" onclick="location.reload()" class="text-center text-decoration-none text-dark">
            <i class="bi bi-arrow-clockwise" style="font-size: 1.5rem;"></i><br>Refresh
        </a>
    </div>

    <!-- Recent Projects Section -->
    <div class="mt-3">
        <h6>Recent Projects</h6>
        {% if recent_projects %}
        <ul class="list-group">
            {% for project in recent_projects %}
            <li class="list-group-item small">
                {{ project.name }} - {{ project.date }}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-center text-muted">No projects found.</p>
        {% endif %}
    </div>

</div>

{% endblock %}